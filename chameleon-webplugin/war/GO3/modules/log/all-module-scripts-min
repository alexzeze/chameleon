GO.log.EntriesGrid=function(A){if(!A){A={}}A.title=GO.log.lang.log;A.layout="fit";A.autoScroll=true;A.split=true;A.closable=true;A.store=new GO.data.JsonStore({url:GO.settings.modules.log.url+"json.php",baseParams:{task:"entries"},root:"results",id:"id",totalProperty:"total",fields:["id","link_id","link_type","time","user_name","text"],remoteSort:true});A.paging=true;var B=new Ext.grid.ColumnModel([{header:GO.log.lang.time,dataIndex:"time"},{header:GO.lang.strDescription,dataIndex:"text"},{header:GO.lang.strUser,dataIndex:"user_name",sortable:false},{header:GO.lang.strType,dataIndex:"link_type"}]);B.defaultSortable=true;A.cm=B;A.view=new Ext.grid.GridView({autoFill:true,forceFit:true,emptyText:GO.lang.strNoItems});A.sm=new Ext.grid.RowSelectionModel();A.loadMask=true;this.searchField=new GO.form.SearchField({store:A.store,width:320});A.tbar=[GO.lang.strSearch+":",this.searchField,"-",{iconCls:"btn-export",text:GO.lang.cmdExport,cls:"x-btn-text-icon",handler:function(){var C={};C.query="log";C.colModel=this.getColumnModel();C.title=this.ownerCt.title;var D=this.searchField.getValue();if(!GO.util.empty(D)){C.subtitle=GO.lang.searchQuery+": "+D}else{C.subtile=""}if(!this.exportDialog){this.exportDialog=new GO.ExportQueryDialog()}this.exportDialog.show(C)},scope:this}];GO.log.EntriesGrid.superclass.constructor.call(this,A)};Ext.extend(GO.log.EntriesGrid,GO.grid.GridPanel,{loaded:false,afterRender:function(){GO.log.EntriesGrid.superclass.afterRender.call(this);if(this.isVisible()){this.onGridShow()}},onGridShow:function(){if(!this.loaded&&this.rendered){this.store.load();this.loaded=true}}});GO.moduleManager.addAdminModule("log",GO.log.EntriesGrid,{title:GO.log.lang.log,iconCls:"go-tab-icon-log"});